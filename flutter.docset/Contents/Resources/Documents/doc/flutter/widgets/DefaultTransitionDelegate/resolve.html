<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no"/>
  <meta name="description" content="API docs for the resolve method from the DefaultTransitionDelegate class, for the Dart programming language."/>
  <title>resolve method - DefaultTransitionDelegate class - widgets library - Dart API</title>

  <!-- required because all the links are pseudo-absolute -->
  <base href="../../"/>

  
  <link rel="preconnect" href="https://fonts.gstatic.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&amp;display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet"/>
  
  <link rel="stylesheet" href="static-assets/github.css?v1"/>
  <link rel="stylesheet" href="static-assets/styles.css?v1"/>
  <link rel="icon" href="static-assets/favicon.png?v1"/>

  <!-- style overrides for dartdoc -->
<style>
@import 'https://fonts.googleapis.com/css?family=Roboto:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Google+Sans:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Open+Sans:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round';
</style>

<link href="https://flutter.github.io/assets-for-api-docs/assets/cupertino/cupertino.css" rel="stylesheet" type="text/css"/>

<link href="../assets/overrides.css" rel="stylesheet" type="text/css"/>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round" rel="stylesheet"/>
<style>
  /* Rule for sizing the icon. */
  .md-36 { font-size: 36px; }
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67589403-1', 'auto');
  ga('send', 'pageview');
</script>

<script async="" defer="" src="../assets/api_survey.js"></script>

<!-- Styles and scripting for handling custom code snippets -->
<link href="../assets/snippets.css" rel="stylesheet" type="text/css"/>
<script src="../assets/snippets.js"></script>

<link rel="search" type="application/opensearchdescription+xml" title="Flutter API" href="opensearch.xml"/>

</head>


<body data-base-href="../../" data-using-base-href="true" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="widgets/widgets-library.html">widgets</a></li>
    <li><a href="widgets/DefaultTransitionDelegate-class.html">DefaultTransitionDelegate<span class="signature">&lt;<wbr/><span class="type-parameter">T</span>&gt;</span></a></li>
    <li class="self-crumb">resolve method</li>
  </ol>
  <div class="self-name">resolve</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled="" class="form-control typeahead" placeholder="Loading search..."/>
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme"/>
      <span class="material-symbols-outlined">
        brightness_4
      </span>
    </label>
  </div>
</header>
<main>

  <div id="dartdoc-main-content" class="main-content">
      <div>
  <div id="external-links" class="btn-group"><a title="View source code" class="source-link" href="https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/widgets/navigator.dart#L1033"><span class="material-symbols-outlined">description</span></a></div>
<h1><a class="dashingAutolink" name="autolink-68715"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/resolve"></a><span class="kind-method">resolve</span> method 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
</h1></div>

    <section class="multi-line-signature">
      
  <div>
    <ol class="annotation-list">
        <li>@<a href="dart-core/override-constant.html">override</a></li>
    </ol>
  </div>

<span class="returntype"><a href="dart-core/Iterable-class.html">Iterable</a><span class="signature">&lt;<wbr/><span class="type-parameter"><a href="widgets/RouteTransitionRecord-class.html">RouteTransitionRecord</a></span>&gt;</span></span>
<span class="name ">resolve</span>(<wbr/><ol class="parameter-list"><li><span class="parameter" id="resolve-param-newPageRouteHistory">{<span>required</span> <span class="type-annotation"><a href="dart-core/List-class.html">List</a><span class="signature">&lt;<wbr/><span class="type-parameter"><a href="widgets/RouteTransitionRecord-class.html">RouteTransitionRecord</a></span>&gt;</span></span> <span class="parameter-name">newPageRouteHistory</span>, </span></li>
<li><span class="parameter" id="resolve-param-locationToExitingPageRoute"><span>required</span> <span class="type-annotation"><a href="dart-core/Map-class.html">Map</a><span class="signature">&lt;<wbr/><span class="type-parameter"><a href="widgets/RouteTransitionRecord-class.html">RouteTransitionRecord</a>?</span>, <span class="type-parameter"><a href="widgets/RouteTransitionRecord-class.html">RouteTransitionRecord</a></span>&gt;</span></span> <span class="parameter-name">locationToExitingPageRoute</span>, </span></li>
<li><span class="parameter" id="resolve-param-pageRouteToPagelessRoutes"><span>required</span> <span class="type-annotation"><a href="dart-core/Map-class.html">Map</a><span class="signature">&lt;<wbr/><span class="type-parameter"><a href="widgets/RouteTransitionRecord-class.html">RouteTransitionRecord</a>?</span>, <span class="type-parameter"><a href="dart-core/List-class.html">List</a><span class="signature">&lt;<wbr/><span class="type-parameter"><a href="widgets/RouteTransitionRecord-class.html">RouteTransitionRecord</a></span>&gt;</span></span>&gt;</span></span> <span class="parameter-name">pageRouteToPagelessRoutes</span>}</span></li>
</ol>)

      <div class="features"><span class="feature">override</span></div>

    </section>
    
<section class="desc markdown">
  <p>A method that will be called by the <a href="widgets/Navigator-class.html">Navigator</a> to decide how routes
transition in or out of the screen when <a href="widgets/Navigator/pages.html">Navigator.pages</a> is updated.</p>
<p>The <code>newPageRouteHistory</code> list contains all page-based routes in the order
that will be on the <a href="widgets/Navigator-class.html">Navigator</a>&#39;s history stack after this update
completes. If a route in <code>newPageRouteHistory</code> has its
<a href="widgets/RouteTransitionRecord/isWaitingForEnteringDecision.html">RouteTransitionRecord.isWaitingForEnteringDecision</a> set to true, this
route requires explicit decision on how it should transition onto the
Navigator. To make a decision, call <a href="widgets/RouteTransitionRecord/markForPush.html">RouteTransitionRecord.markForPush</a> or
<a href="widgets/RouteTransitionRecord/markForAdd.html">RouteTransitionRecord.markForAdd</a>.</p>
<p>The <code>locationToExitingPageRoute</code> contains the pages-based routes that
are removed from the routes history after page update. This map records
page-based routes to be removed with the location of the route in the
original route history before the update. The keys are the locations
represented by the page-based routes that are directly below the removed
routes, and the value are the page-based routes to be removed. The
location is null if the route to be removed is the bottom most route. If
a route in <code>locationToExitingPageRoute</code> has its
<a href="widgets/RouteTransitionRecord/isWaitingForExitingDecision.html">RouteTransitionRecord.isWaitingForExitingDecision</a> set to true, this
route requires explicit decision on how it should transition off the
Navigator. To make a decision for a removed route, call
<a href="widgets/RouteTransitionRecord/markForPop.html">RouteTransitionRecord.markForPop</a>,
<a href="widgets/RouteTransitionRecord/markForComplete.html">RouteTransitionRecord.markForComplete</a> or
<a href="widgets/RouteTransitionRecord/markForRemove.html">RouteTransitionRecord.markForRemove</a>. It is possible that decisions are
not required for routes in the <code>locationToExitingPageRoute</code>. This can
happen if the routes have already been popped in earlier page updates and
are still waiting for popping animations to finish. In such case, those
routes are still included in the <code>locationToExitingPageRoute</code> with their
<a href="widgets/RouteTransitionRecord/isWaitingForExitingDecision.html">RouteTransitionRecord.isWaitingForExitingDecision</a> set to false and no
decisions are required.</p>
<p>The <code>pageRouteToPagelessRoutes</code> records the page-based routes and their
associated pageless routes. If a page-based route is waiting for exiting
decision, its associated pageless routes also require explicit decisions
on how to transition off the screen.</p>
<p>Once all the decisions have been made, this method must merge the removed
routes (whether or not they require decisions) and the
<code>newPageRouteHistory</code> and return the merged result. The order in the
result will be the order the <a href="widgets/Navigator-class.html">Navigator</a> uses for updating the route
history. The return list must preserve the same order of routes in
<code>newPageRouteHistory</code>. The removed routes, however, can be inserted into
the return list freely as long as all of them are included.</p>
<p>For example, consider the following case.</p>
<p><code>newPageRouteHistory = [A, B, C]</code></p>
<p><code>locationToExitingPageRoute = {A -&gt; D, C -&gt; E}</code></p>
<p>The following outputs are valid.</p>
<p><code>result = [A, B ,C ,D ,E]</code> is valid.
<code>result = [D, A, B ,C ,E]</code> is also valid because exiting route can be
inserted in any place.</p>
<p>The following outputs are invalid.</p>
<p><code>result = [B, A, C ,D ,E]</code> is invalid because B must be after A.
<code>result = [A, B, C ,E]</code> is invalid because results must include D.</p>
<p>See also:</p>
<ul>
<li><a href="widgets/RouteTransitionRecord/markForPush.html">RouteTransitionRecord.markForPush</a>, which makes route enter the screen
with an animated transition.</li>
<li><a href="widgets/RouteTransitionRecord/markForAdd.html">RouteTransitionRecord.markForAdd</a>, which makes route enter the screen
without an animated transition.</li>
<li><a href="widgets/RouteTransitionRecord/markForPop.html">RouteTransitionRecord.markForPop</a>, which makes route exit the screen
with an animated transition.</li>
<li><a href="widgets/RouteTransitionRecord/markForRemove.html">RouteTransitionRecord.markForRemove</a>, which does not complete the
route and makes it exit the screen without an animated transition.</li>
<li><a href="widgets/RouteTransitionRecord/markForComplete.html">RouteTransitionRecord.markForComplete</a>, which completes the route and
makes it exit the screen without an animated transition.</li>
<li><a href="widgets/DefaultTransitionDelegate/resolve.html">DefaultTransitionDelegate.resolve</a>, which implements the default way
to decide how routes transition in or out of the screen.</li>
</ul>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">@override
Iterable&lt;RouteTransitionRecord&gt; resolve({
  required List&lt;RouteTransitionRecord&gt; newPageRouteHistory,
  required Map&lt;RouteTransitionRecord?, RouteTransitionRecord&gt; locationToExitingPageRoute,
  required Map&lt;RouteTransitionRecord?, List&lt;RouteTransitionRecord&gt;&gt; pageRouteToPagelessRoutes,
}) {
  final List&lt;RouteTransitionRecord&gt; results = &lt;RouteTransitionRecord&gt;[];
  // This method will handle the exiting route and its corresponding pageless
  // route at this location. It will also recursively check if there is any
  // other exiting routes above it and handle them accordingly.
  void handleExitingRoute(RouteTransitionRecord? location, bool isLast) {
    final RouteTransitionRecord? exitingPageRoute = locationToExitingPageRoute[location];
    if (exitingPageRoute == null) {
      return;
    }
    if (exitingPageRoute.isWaitingForExitingDecision) {
      final bool hasPagelessRoute = pageRouteToPagelessRoutes.containsKey(exitingPageRoute);
      final bool isLastExitingPageRoute = isLast &amp;&amp; !locationToExitingPageRoute.containsKey(exitingPageRoute);
      if (isLastExitingPageRoute &amp;&amp; !hasPagelessRoute) {
        exitingPageRoute.markForPop(exitingPageRoute.route.currentResult);
      } else {
        exitingPageRoute.markForComplete(exitingPageRoute.route.currentResult);
      }
      if (hasPagelessRoute) {
        final List&lt;RouteTransitionRecord&gt; pagelessRoutes = pageRouteToPagelessRoutes[exitingPageRoute]!;
        for (final RouteTransitionRecord pagelessRoute in pagelessRoutes) {
          // It is possible that a pageless route that belongs to an exiting
          // page-based route does not require exiting decision. This can
          // happen if the page list is updated right after a Navigator.pop.
          if (pagelessRoute.isWaitingForExitingDecision) {
            if (isLastExitingPageRoute &amp;&amp; pagelessRoute == pagelessRoutes.last) {
              pagelessRoute.markForPop(pagelessRoute.route.currentResult);
            } else {
              pagelessRoute.markForComplete(pagelessRoute.route.currentResult);
            }
          }
        }
      }
    }
    results.add(exitingPageRoute);

    // It is possible there is another exiting route above this exitingPageRoute.
    handleExitingRoute(exitingPageRoute, isLast);
  }

  // Handles exiting route in the beginning of list.
  handleExitingRoute(null, newPageRouteHistory.isEmpty);

  for (final RouteTransitionRecord pageRoute in newPageRouteHistory) {
    final bool isLastIteration = newPageRouteHistory.last == pageRoute;
    if (pageRoute.isWaitingForEnteringDecision) {
      if (!locationToExitingPageRoute.containsKey(pageRoute) &amp;&amp; isLastIteration) {
        pageRoute.markForPush();
      } else {
        pageRoute.markForAdd();
      }
    }
    results.add(pageRoute);
    handleExitingRoute(pageRoute, isLastIteration);
  }
  return results;
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled="" class="form-control typeahead" placeholder="Loading search..."/>
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="index.html">Flutter</a></li>
  <li><a href="widgets/widgets-library.html">widgets</a></li>
  <li><a href="widgets/DefaultTransitionDelegate-class.html">DefaultTransitionDelegate<span class="signature">&lt;<wbr/><span class="type-parameter">T</span>&gt;</span></a></li>
  <li class="self-crumb">resolve method</li>
</ol>


    <h5>DefaultTransitionDelegate class</h5>
    <ol>

        <li class="section-title"><a href="widgets/DefaultTransitionDelegate-class.html#constructors">Constructors</a></li>
          <li><a href="widgets/DefaultTransitionDelegate/DefaultTransitionDelegate.html">DefaultTransitionDelegate</a></li>


        <li class="section-title inherited">
          <a href="widgets/DefaultTransitionDelegate-class.html#instance-properties">Properties</a>
        </li>
          <li class="inherited"><a href="dart-core/Object/hashCode.html">hashCode</a></li>
          <li class="inherited"><a href="dart-core/Object/runtimeType.html">runtimeType</a></li>

        <li class="section-title"><a href="widgets/DefaultTransitionDelegate-class.html#instance-methods">Methods</a></li>
          <li class="inherited"><a href="dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
          <li><a href="widgets/DefaultTransitionDelegate/resolve.html">resolve</a></li>
          <li class="inherited"><a href="dart-core/Object/toString.html">toString</a></li>

        <li class="section-title inherited"><a href="widgets/DefaultTransitionDelegate-class.html#operators">Operators</a></li>
          <li class="inherited"><a href="dart-core/Object/operator_equals.html">operator ==</a></li>




</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    Flutter
      0.0.0
  </span>

  <script src="footer.js"></script>
</footer>



<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>







</body></html>